{"ast":null,"code":"var _jsxFileName = \"/home/yakari144/UM/5ano/tese/StepwiseSource/client/src/components/Navigation.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraphNode = ({\n  x,\n  y,\n  id,\n  onClick\n}) => /*#__PURE__*/_jsxDEV(\"circle\", {\n  cx: x,\n  cy: y,\n  r: \"5\",\n  className: \"dot\",\n  id: \"dot_\" + id,\n  onClick: onClick\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 4,\n  columnNumber: 3\n}, this);\n_c = GraphNode;\nconst Graph = ({\n  structure,\n  onNodeClick,\n  properties\n}) => {\n  const length = structure.length;\n  const height = calcHeight(structure);\n  console.log(\"Height: \", height);\n  console.log(\"Length: \", length);\n  let r = calcZoom(length, height);\n  console.log(\"Zoom: \", r);\n  function handleFork(array, x, y, properties) {\n    let l = array.length;\n    // calculate the integer division of the length of the array\n    let half = l / 2;\n    let nodesRendered = [];\n    for (let j = 0; j < l; j++) {\n      let place = j - half + 0.5;\n      const new_nodes = renderNodes(array[j], x + properties.varX, y + properties.varY * place);\n      nodesRendered = nodesRendered.concat(new_nodes);\n    }\n    return nodesRendered;\n  }\n  const renderNodes = (nodes, x, y) => {\n    // Recursive function to render nodes and paths\n    let nodesRendered = [];\n    for (let i = 0; i < nodes.length; i++) {\n      if (Array.isArray(nodes[i])) {\n        const nds = handleFork(nodes[i], x, y, properties);\n        nodesRendered = nodesRendered.concat(nds);\n        // get the node with the maximum x value\n        let max_x = 0;\n        for (let j = 0; j < nds.length; j++) {\n          let node = nds[j];\n          let id = node.props.cx;\n          let x = document.getElementById(id).getAttribute(\"cx\");\n          if (x > max_x) {\n            max_x = x;\n          }\n        }\n      } else {\n        const node = nodes[i];\n        nodesRendered.push( /*#__PURE__*/_jsxDEV(GraphNode, {\n          x: x,\n          y: y,\n          id: node,\n          onClick: onNodeClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this));\n        x += properties.varX;\n      }\n    }\n    return nodesRendered;\n  };\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"100%\",\n    height: \"100%\",\n    className: \"graph\",\n    children: renderNodes(structure, properties.startX, properties.startY)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_c2 = Graph;\nfunction calcHeight(structure) {\n  let st = [];\n  let height = 0;\n  for (let i = 0; i < structure.length; i++) {\n    if (Array.isArray(structure[i])) {\n      let new_h = structure[i].length;\n      for (let j = 0; j < structure[i].length; j++) {\n        new_h += calcHeight(structure[i][j]);\n      }\n      height = new_h;\n    }\n    st.push(height);\n  }\n  // return the maximum height in the array\n  return Math.max(...st);\n}\nfunction calcZoom(length, height) {\n  return 1;\n}\nconst GraphApp = () => {\n  const graphStructure = [\"N1\", \"N2\", [[\"N3\", \"N4\", \"N5\"], [\"N5\"]], [[\"N6\"], [\"N7\"]], \"N8\"];\n  let properties = {\n    startX: 20,\n    startY: 20,\n    varX: 30,\n    varY: 20\n  };\n  return /*#__PURE__*/_jsxDEV(Graph, {\n    structure: graphStructure,\n    onNodeClick: nodeId => console.log(nodeId),\n    properties: properties\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_c3 = GraphApp;\nfunction Navigation({\n  slideChanger\n}) {\n  // JSX: JavaScript XML\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    style: {\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"left\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"prev\",\n          onClick: () => {\n            slideChanger(-1);\n          },\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"middle\",\n        nota: \"InsertNavGraph\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"graph-container\",\n          children: /*#__PURE__*/_jsxDEV(GraphApp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"right\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"next\",\n          onClick: () => {\n            slideChanger(1);\n          },\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 12\n  }, this);\n}\n_c4 = Navigation;\nexport default Navigation;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"GraphNode\");\n$RefreshReg$(_c2, \"Graph\");\n$RefreshReg$(_c3, \"GraphApp\");\n$RefreshReg$(_c4, \"Navigation\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","GraphNode","x","y","id","onClick","cx","cy","r","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","Graph","structure","onNodeClick","properties","length","height","calcHeight","console","log","calcZoom","handleFork","array","l","half","nodesRendered","j","place","new_nodes","renderNodes","varX","varY","concat","nodes","i","Array","isArray","nds","max_x","node","props","document","getElementById","getAttribute","push","width","children","startX","startY","_c2","st","new_h","Math","max","GraphApp","graphStructure","nodeId","_c3","Navigation","slideChanger","style","display","nota","_c4","$RefreshReg$"],"sources":["/home/yakari144/UM/5ano/tese/StepwiseSource/client/src/components/Navigation.js"],"sourcesContent":["import React from 'react';\n\nconst GraphNode = ({ x, y,id, onClick }) => (\n  <circle \n    cx={x}\n    cy={y} \n    r=\"5\" \n    className=\"dot\" \n    id={\"dot_\"+id}\n    onClick={onClick}\n  />\n);\n\nconst Graph = ({ structure, onNodeClick, properties }) => {\n  \n  const length = structure.length;\n  const height = calcHeight(structure);\n  console.log(\"Height: \", height);\n  console.log(\"Length: \", length);\n  let r = calcZoom(length, height);\n  console.log(\"Zoom: \", r);\n\n  function handleFork(array,x,y,properties) {\n    let l = array.length;\n    // calculate the integer division of the length of the array\n    let half = l/2 ;\n    let nodesRendered = [];\n    for (let j = 0; j < l; j++) {\n      let place = j - half + 0.5;\n      const new_nodes = renderNodes(array[j], x + properties.varX, y + properties.varY*place);\n      nodesRendered = nodesRendered.concat(new_nodes);\n    }\n    return nodesRendered\n  }\n\n  const renderNodes = (nodes, x, y) => {\n    // Recursive function to render nodes and paths\n    let nodesRendered = [];\n    for(let i = 0; i < nodes.length; i++) {\n      if (Array.isArray(nodes[i])) {\n        const nds = handleFork(nodes[i],x,y,properties);\n        nodesRendered = nodesRendered.concat(nds);\n        // get the node with the maximum x value\n        let max_x = 0;\n        for (let j = 0; j < nds.length; j++) {\n          let node = nds[j];\n          let id = node.props.cx;\n          let x = document.getElementById(id).getAttribute(\"cx\");\n          if (x > max_x) {\n            max_x = x;\n          }\n        }\n      } else {\n        const node = nodes[i];\n        nodesRendered.push(\n          <GraphNode\n            x={x}\n            y={y}\n            id={node}\n            onClick={onNodeClick}\n          />\n        );\n        x += properties.varX;\n      }\n    }\n    return nodesRendered;\n  };\n\n  return (\n    <svg width=\"100%\" height=\"100%\" className=\"graph\">\n      {renderNodes(structure, properties.startX, properties.startY)}\n    </svg>\n  );\n};\n\nfunction calcHeight(structure) {\n  let st = [];\n  let height = 0;\n  for (let i = 0; i < structure.length; i++) {\n    if (Array.isArray(structure[i])) {\n      let new_h = structure[i].length;\n      for (let j = 0; j < structure[i].length; j++) {\n        new_h += calcHeight(structure[i][j]);\n      }\n      height = new_h\n    }\n    st.push(height);\n  }\n  // return the maximum height in the array\n  return Math.max(...st);\n}\n\nfunction calcZoom(length, height) {\n  return 1\n}\n\nconst GraphApp = () => {\n  const graphStructure = [\"N1\", \"N2\", [[\"N3\", \"N4\", \"N5\"], [\"N5\"]] , [[\"N6\"],[\"N7\"]] , \"N8\"];\n\n  let properties = {\n    startX: 20,\n    startY: 20,\n    varX: 30,\n    varY: 20,\n  }\n  return (\n    <Graph\n      structure={graphStructure}\n      onNodeClick={(nodeId) => console.log(nodeId)}\n      properties={properties}\n    />\n  );\n};\n\n\nfunction Navigation({slideChanger}) {\n    // JSX: JavaScript XML\n    return <table style={{width:\"100%\"}}>\n    <tr style={{display:\"flex\"}}>\n      <td className=\"left\">\n        <span className=\"prev\" onClick={() => {slideChanger(-1)}}>Previous</span>\n      </td>\n      <td className=\"middle\" nota=\"InsertNavGraph\">\n        <div className=\"graph-container\">\n          <GraphApp />\n        </div>\n      </td>\n      <td className=\"right\"><span className=\"next\" onClick={() => {slideChanger(1)}} >Next</span></td>\n    </tr>\n  </table>\n}\n\nexport default Navigation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}